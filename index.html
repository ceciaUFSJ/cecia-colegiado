<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Colegiado – CECIA</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root {
  --cecia-red: #8b0000;
  --text: #222;
  --blue1: #007cf0;
  --blue2: #00dfd8;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: "Inter", system-ui, Arial, sans-serif;
  background: #fff;
  color: var(--text);
}

/* ===== HEADER ===== */
.header {
  background: var(--cecia-red);
  padding: 18px 0;
  display: flex;
  justify-content: center;
}

.header-inner {
  width: 100%;
  max-width: 1200px;
  padding: 0 24px;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
}

.header img { height: 90px; }

.title { text-align: center; }

.course {
  font-size: 32px;
  font-weight: 700;
  line-height: 1.1;
  background: linear-gradient(90deg, var(--blue1), var(--blue2));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.cecia {
  color: #fff;
  font-size: 18px;
  letter-spacing: 2px;
  font-weight: 600;
}

.ufsj {
  font-size: 14px;
  color: #eee;
}

/* ===== CONTEÚDO ===== */
.main {
  max-width: 1100px;
  margin: 40px auto;
  padding: 0 24px;
}

.intro p {
  max-width: 900px;
  line-height: 1.7;
  font-size: 16px;
}

/* ===== COLEGIADO ===== */
.folder {
  background: #fafafa;
  border: 1px solid #ddd;
  border-radius: 10px;
  margin-bottom: 16px;
  overflow: hidden;
}

.folder-header {
  padding: 14px 18px;
  background: var(--cecia-red);
  color: #fff;
  font-weight: 600;
}

.folder-content {
  padding: 12px 20px 18px;
}

.file {
  padding: 6px 0;
}

/* ===== FOOTER ===== */
.footer {
  text-align: center;
  font-size: 14px;
  color: #666;
  margin: 60px 0 30px;
}
</style>
</head>

<body>

<div class="header">
  <div class="header-inner">
    <img src="https://cecia.ufsj.edu.br/assets/logo-ufsj-D8UfR3Y2.png">

    <div class="title">
      <div class="course">Engenharia da Computação e Inteligência Artificial</div>
      <div class="cecia">CECIA</div>
      <div class="ufsj">Universidade Federal de São João del-Rei – UFSJ</div>
    </div>

    <img src="https://cecia.ufsj.edu.br/assets/mascote-labs-XYBaCOvj.png">
  </div>
</div>

<div class="main">

<h2>Colegiado do Curso</h2>

<div class="intro">
<p>
Apresenta-se abaixo a composição do <strong>Colegiado do Curso de Engenharia da Computação e Inteligência Artificial (CECIA)</strong>, conforme informações institucionais atualizadas.
</p>
</div>

<div id="colegiado">Carregando composição do colegiado...</div>

</div>

<script>
/* ===== COLEGIADO – CSV GOOGLE SHEETS (FINAL) ===== */
const CSV_URL =
  "https://docs.google.com/spreadsheets/d/1rEshku4z6nJjTIae9gq28wIoIfHu3LwbdwS2HGFfxrY/export?format=csv&sheet=Integrantes";

async function carregarColegiado() {
  const div = document.getElementById("colegiado");
  div.innerHTML = "";

  const res = await fetch(CSV_URL);
  let text = await res.text();

  // remove BOM UTF-8
  text = text.replace(/^\uFEFF/, "");

  const linhas = text.split(/\r?\n/).slice(1); // remove cabeçalho
  const grupos = {};

  linhas.forEach(l => {
    if (!l.trim()) return;

    // separador TAB (PT-BR) ou vírgula
    const cols = l.includes("\t") ? l.split("\t") : l.split(",");

    const atrib = (cols[0] || "").replace(/"/g, "").trim();
    const nome  = (cols[1] || "").replace(/"/g, "").trim();

    if (!atrib || !nome) return;

    if (!grupos[atrib]) grupos[atrib] = [];
    grupos[atrib].push(nome);
  });

  if (Object.keys(grupos).length === 0) {
    div.innerHTML = "Nenhuma informação de colegiado encontrada.";
    return;
  }

  let html = "";
  for (const g in grupos) {
    html += `
      <div class="folder">
        <div class="folder-header">${g}</div>
        <div class="folder-content">`;
    grupos[g].forEach(n => {
      html += `<div class="file">${n}</div>`;
    });
    html += `</div></div>`;
  }

  div.innerHTML = html;
}

carregarColegiado();
</script>

<div class="footer">
Página institucional mantida pela Coordenação do Curso – CECIA / UFSJ.
</div>

</body>
</html>
